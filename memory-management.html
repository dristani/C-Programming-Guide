<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Management - C Programming Tutorial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background-color: #2c3e50;
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-bottom: 2rem;
        }
        .content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }
        p {
            margin-bottom: 1rem;
        }
        pre {
            background-color: #f8f9fa;
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
            margin: 1rem 0;
        }
        code {
            font-family: 'Courier New', Courier, monospace;
            color: #2c3e50;
        }
        .nav-links {
            margin-top: 2rem;
            text-align: center;
        }
        .nav-links a {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            margin: 0 10px;
            transition: background-color 0.3s ease;
        }
        .nav-links a:hover {
            background-color: #2980b9;
        }
        .faq {
            background-color: #e8f4f8;
            padding: 1rem;
            border-radius: 4px;
            margin-top: 2rem;
        }
        .faq h3 {
            color: #2c3e50;
        }
        ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        li {
            margin-bottom: 0.5rem;
        }
        .faq-item {
            margin-bottom: 1rem;
        }
        .faq-question {
            font-weight: bold;
            color: #2c3e50;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .student-info {
            background: linear-gradient(135deg, #1a2a3a, #2c3e50);
            color: white;
            padding: 1.5rem 0;
            margin-top: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .student-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3498db, #2ecc71, #3498db);
            animation: gradient 3s linear infinite;
        }
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .info-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: 0 auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        .info-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
            animation: rotate 10s linear infinite;
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .developer-info {
            position: relative;
            z-index: 1;
        }
        .developer-info p {
            margin: 0.8rem 0;
            font-size: 1rem;
            line-height: 1.6;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        .developer-info p:hover {
            transform: translateX(10px);
        }
        .developer-info p:first-child {
            font-size: 1.2rem;
            font-weight: 600;
            color: #3498db;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .developer-info p:last-child {
            font-style: italic;
            color: #2ecc71;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>27. Memory Management</h1>
            <p>Understanding memory management in C programming</p>
        </div>
    </header>

    <div class="container">
        <div class="content">
            <h2>Introduction to Memory Management</h2>
            <p>Memory management in C involves allocating and deallocating memory during program execution. C provides several functions for dynamic memory management through the stdlib.h header. Proper memory management is crucial for preventing memory leaks and ensuring efficient program execution.</p>

            <h2>Memory Management Functions</h2>
            <table>
                <tr>
                    <th>Function</th>
                    <th>Description</th>
                    <th>Example</th>
                </tr>
                <tr>
                    <td>malloc()</td>
                    <td>Allocates memory</td>
                    <td><code>int* arr = (int*)malloc(10 * sizeof(int));</code></td>
                </tr>
                <tr>
                    <td>calloc()</td>
                    <td>Allocates and initializes memory</td>
                    <td><code>int* arr = (int*)calloc(10, sizeof(int));</code></td>
                </tr>
                <tr>
                    <td>realloc()</td>
                    <td>Reallocates memory</td>
                    <td><code>arr = (int*)realloc(arr, 20 * sizeof(int));</code></td>
                </tr>
                <tr>
                    <td>free()</td>
                    <td>Deallocates memory</td>
                    <td><code>free(arr);</code></td>
                </tr>
            </table>

            <h2>Memory Segments</h2>
            <table>
                <tr>
                    <th>Segment</th>
                    <th>Description</th>
                    <th>Lifetime</th>
                </tr>
                <tr>
                    <td>Code</td>
                    <td>Program instructions</td>
                    <td>Program duration</td>
                </tr>
                <tr>
                    <td>Data</td>
                    <td>Global and static variables</td>
                    <td>Program duration</td>
                </tr>
                <tr>
                    <td>Stack</td>
                    <td>Local variables and function calls</td>
                    <td>Function duration</td>
                </tr>
                <tr>
                    <td>Heap</td>
                    <td>Dynamically allocated memory</td>
                    <td>Until freed</td>
                </tr>
            </table>

            <h2>Example Program</h2>
            <pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

// Structure for student data
typedef struct {
    char name[50];
    int age;
    float gpa;
} Student;

// Function to create a student
Student* create_student(const char* name, int age, float gpa) {
    Student* student = (Student*)malloc(sizeof(Student));
    if (student == NULL) {
        fprintf(stderr, "Memory allocation failed\n");
        return NULL;
    }
    
    strncpy(student->name, name, sizeof(student->name) - 1);
    student->name[sizeof(student->name) - 1] = '\0';
    student->age = age;
    student->gpa = gpa;
    
    return student;
}

// Function to resize student array
Student** resize_student_array(Student** students, int* size, int new_size) {
    Student** new_students = (Student**)realloc(students, new_size * sizeof(Student*));
    if (new_students == NULL) {
        fprintf(stderr, "Memory reallocation failed\n");
        return students;
    }
    
    // Initialize new elements to NULL
    for (int i = *size; i < new_size; i++) {
        new_students[i] = NULL;
    }
    
    *size = new_size;
    return new_students;
}

int main() {
    // Example 1: Basic memory allocation
    int* numbers = (int*)malloc(5 * sizeof(int));
    if (numbers == NULL) {
        fprintf(stderr, "Memory allocation failed\n");
        return 1;
    }
    
    // Initialize array using calloc
    int* zeros = (int*)calloc(5, sizeof(int));
    if (zeros == NULL) {
        free(numbers);
        fprintf(stderr, "Memory allocation failed\n");
        return 1;
    }
    
    // Example 2: Dynamic array of structures
    int student_count = 2;
    Student** students = (Student**)malloc(student_count * sizeof(Student*));
    if (students == NULL) {
        free(numbers);
        free(zeros);
        fprintf(stderr, "Memory allocation failed\n");
        return 1;
    }
    
    // Create students
    students[0] = create_student("Alice", 20, 3.8);
    students[1] = create_student("Bob", 21, 3.5);
    
    // Example 3: Memory reallocation
    students = resize_student_array(students, &student_count, 4);
    students[2] = create_student("Charlie", 19, 3.9);
    students[3] = create_student("Diana", 22, 3.7);
    
    // Print student information
    for (int i = 0; i < student_count; i++) {
        if (students[i] != NULL) {
            printf("Student %d: %s, %d, %.2f\n", 
                   i, students[i]->name, students[i]->age, students[i]->gpa);
        }
    }
    
    // Clean up memory
    for (int i = 0; i < student_count; i++) {
        free(students[i]);
    }
    free(students);
    free(numbers);
    free(zeros);
    
    return 0;
}</code></pre>

            <h2>Code Explanation</h2>
            <ul>
                <li><code>malloc()</code> - Allocates uninitialized memory</li>
                <li><code>calloc()</code> - Allocates and initializes memory to zero</li>
                <li><code>realloc()</code> - Resizes previously allocated memory</li>
                <li><code>free()</code> - Releases allocated memory</li>
                <li>Structure memory allocation</li>
                <li>Array of pointers management</li>
                <li>Memory reallocation for dynamic arrays</li>
                <li>Proper memory cleanup</li>
            </ul>

            <h2>Memory Management Characteristics</h2>
            <ul>
                <li>Manual memory management</li>
                <li>No automatic garbage collection</li>
                <li>Direct memory access</li>
                <li>Memory fragmentation possible</li>
                <li>Stack and heap memory</li>
                <li>Pointer arithmetic support</li>
                <li>Memory alignment considerations</li>
            </ul>

            <h2>Memory Management Best Practices</h2>
            <ul>
                <li>Always check allocation success</li>
                <li>Free memory when no longer needed</li>
                <li>Use appropriate allocation functions</li>
                <li>Avoid memory leaks</li>
                <li>Handle reallocation carefully</li>
                <li>Consider memory alignment</li>
                <li>Use memory debugging tools</li>
            </ul>

            <div class="faq">
                <h3>Frequently Asked Questions</h3>
                
                <div class="faq-item">
                    <p class="faq-question">Q: What is the difference between malloc() and calloc()?</p>
                    <p>A: malloc() allocates uninitialized memory, while calloc() allocates and initializes memory to zero. calloc() also takes two arguments (number of elements and size of each element) while malloc() takes the total size in bytes.</p>
                </div>

                <div class="faq-item">
                    <p class="faq-question">Q: How do I avoid memory leaks?</p>
                    <p>A: To avoid memory leaks, always free allocated memory when it's no longer needed, keep track of all allocated memory, use tools like valgrind to detect leaks, and implement proper error handling for memory allocation failures.</p>
                </div>

                <div class="faq-item">
                    <p class="faq-question">Q: What is memory fragmentation?</p>
                    <p>A: Memory fragmentation occurs when free memory is divided into small, non-contiguous blocks. This can happen due to frequent allocation and deallocation of different-sized memory blocks. It can be mitigated by using appropriate allocation strategies and memory pools.</p>
                </div>

                <div class="faq-item">
                    <p class="faq-question">Q: When should I use realloc()?</p>
                    <p>A: Use realloc() when you need to resize a previously allocated memory block. It's commonly used for dynamic arrays that need to grow or shrink. Always check the return value and handle the case where reallocation fails.</p>
                </div>
            </div>

            <div class="nav-links">
                <a href="index.html">Back to Home</a>
                <a href="command-line-arguments.html">Next: Command Line Arguments</a>
            </div>
        </div>
    </div>

    <footer class="student-info">
        <div class="container">
            <div class="info-card">
                <div class="developer-info">
                    <p>Designed and Developed by Tanisha Kavrani</p>
                    <p>A student of Artificial Intelligence and Data Science in Maharashtra Institute of Technology</p>
                    <p>Made for Coding Club</p>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>